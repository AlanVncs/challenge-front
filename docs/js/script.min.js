var a=this&&this.__awaiter||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})};const b=document.getElementById("toggle-menu"),c=document.getElementById("menu-container"),d=document.getElementById("cart"),e=document.getElementById("cart-content"),f=document.getElementById("cart-products"),g=document.getElementById("cart-sum");q(),m(),d.addEventListener("click",c=>a(this,void 0,void 0,function*(){c.stopPropagation(),b.checked=!1,h()})),document.addEventListener("click",()=>{h(!0)}),e.addEventListener("click",a=>{a.stopPropagation()});function h(a){a||e.classList.contains("visible")?e.classList.remove("visible"):e.classList.add("visible")}function i(){return a(this,void 0,void 0,function*(){return new Promise(b=>a(this,void 0,void 0,function*(){const a=yield fetch("data/products.json");b(yield a.json())}))})}function j(){return a(this,void 0,void 0,function*(){return new Promise(b=>a(this,void 0,void 0,function*(){const a=yield fetch("data/menu.json");b(yield a.json())}))})}function k(a,b){const c=document.createElement(a);return b&&c.classList.add(...b),c}function l(a){const b=k("div",["product"]),c=k("img",["product-img"]),d=k("div",["product-info"]),e=k("div",["product-name"]),f=k("div",["product-status"]),g=k("div",["product-qtd"]),h=k("div",["product-price"]);return c.setAttribute("src",a.image),e.append(a.name),g.append(`Qtd.: ${a.quantity}`),h.append(a.bestPriceFormated),f.append(g,h),d.append(e,f),b.append(c,d),b}function m(){return a(this,void 0,void 0,function*(){const{cart:a}=yield i();f.innerHTML="";let b=0;a.item.forEach(a=>{const c=l(a);f.appendChild(c),f.appendChild(k("div",["hr-line"])),b+=a.bestPrice*a.quantity}),g.innerText=`R$ ${(b/100).toLocaleString("pt-br")}`})}function n(a){const b=k("a");return b.append(a.name),b.setAttribute("href",a.url),b}function o(a){const b=k("li");if(b.appendChild(n(a)),a.children&&0!=a.children.length){const c=p(a.children);b.appendChild(c)}return b}function p(a){const b=k("ul");return a.forEach(a=>{b.appendChild(o(a))}),b}function q(){return a(this,void 0,void 0,function*(){const a=yield j(),b=p(a);c.appendChild(b)})}
//# sourceMappingURL=../js_map/script.min.js.map
